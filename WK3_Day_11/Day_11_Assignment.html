<html>
    <!--Assignment:
    
        1. Set up the git and repo.
        2. Adding the zero to the time using setInterval. Time has to show in the webpage.
            EX: 08:12:05
        3. Age Calculator
            Using the input date, get the date from Find The Age.

    -->

    <head>
            <script type="text/javascript">
                
                let dateNow = new Date();//
                console.log(dateNow.getFullYear()+" "+dateNow.getDate()+" "+dateNow.getMonth());
                console.log(dateNow.getHours()+" "+dateNow.getMinutes()+" "+dateNow.getSeconds());

                //Task 2. 
                setInterval(()=>{
                    let timeNow = new Date();
                    
                    let hours = timeNow.getHours(); 
                    let mins = timeNow.getMinutes();
                    let seconds = timeNow.getSeconds();

                    if (hours < 10){
                        hours="0"+hours;
                    }
                    if (mins < 10){
                        mins="0"+mins;
                    }
                    if (seconds < 10){
                        seconds="0"+seconds;
                    }

                    document.getElementById("time").innerHTML= hours+":"+mins+":"+seconds;
                }, 1000);
                    
                //Task 3.
                function getAge(){

                    let dInput = document.getElementById("dob").value;
                    console.log(dInput);

                   //validation to ensure date selected in input
                    if (dInput == ""){
                        alert("Enter date please"); 
                        return;
                    }

                    let dateInput = new Date(dInput);
                    let diff = dateNow.getFullYear()-dateInput.getFullYear();
                    console.log("diff= "+diff);

                    //validation to ensure that future date does not display negative age.
                    if (diff< 0){
                        document.getElementById("age").innerHTML="You can't have a negative age!"
                    }
                    else{
                        var age = Math.abs(diff); //get the number, regardless of +-
                        document.getElementById("age").innerHTML="You are "+ age +" years old this year.";
                    }

                }

            </script>
            
    </head>
    <body>
        <p>The time now is: </p>
        <h1 id="time"></h1>

        <p>Select your birthday: </p>
        <input id="dob" type="date">
        <p id="age"></p>
        <button onclick="getAge()"> Reveal your age </button>
    </body>
   
</html>
